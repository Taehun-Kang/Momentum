---
description: 
globs: 
alwaysApply: true
---
# YouTube Shorts AI íë ˆì´ì…˜ ì„œë¹„ìŠ¤ ê°œë°œ ê°€ì´ë“œ

## í”„ë¡œì íŠ¸ ê°œìš”
- **ëª©ì **: MCP(Model Context Protocol)ë¥¼ í™œìš©í•œ AI ê¸°ë°˜ YouTube Shorts íë ˆì´ì…˜ ì„œë¹„ìŠ¤
- **ê°œë°œ ê¸°ê°„**: 11ì¼ (MVP 4ì¼ + ê³ ë„í™” 5ì¼ + ë°°í¬ 2ì¼)
- **ë°°í¬ ëŒ€ìƒ**: Android ì•±ìŠ¤í† ì–´ ìš°ì„ , PWA ê¸°ë°˜

## í”„ë¡œì íŠ¸ êµ¬ì¡°
ëª¨ë…¸ë ˆí¬ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤:
- [backend/](mdc:backend) - Express.js ë°±ì—”ë“œ ì„œë²„
- [frontend/](mdc:frontend) - Vanilla JS SPA í”„ë¡ íŠ¸ì—”ë“œ
- [shared/](mdc:shared) - ê³µí†µ ìœ í‹¸ë¦¬í‹° ë° íƒ€ì… ì •ì˜
- [test-lab/](mdc:test-lab) - ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ë° í”„ë¡œí† íƒ€ì…
- [docs/](mdc:docs) - í”„ë¡œì íŠ¸ ë¬¸ì„œ
  - [docs/basic/](mdc:docs/basic) - ìƒì„¸ ê¸°íš ë¬¸ì„œ
  - [docs/development/](mdc:docs/development) - ê°œë°œ ê°€ì´ë“œ
  - [docs/summary/](mdc:docs/summary) - ìš”ì•½ ë¬¸ì„œ

## ê¸°ìˆ  ìŠ¤íƒ
### ë°±ì—”ë“œ
- **ì–¸ì–´**: Node.js (JavaScript)
- **í”„ë ˆì„ì›Œí¬**: Express.js
- **ë°ì´í„°ë² ì´ìŠ¤**: Supabase (PostgreSQL)
- **ì¸ì¦**: Supabase Auth
- **API í†µí•©**: 
  - Claude API (MCP ì—°ë™)
  - YouTube Data API v3
  - Bright Data MCP (ì›¹ ê²€ìƒ‰)
  - Supabase MCP (DB ê´€ë¦¬)

### í”„ë¡ íŠ¸ì—”ë“œ
- **ì–¸ì–´**: Vanilla JavaScript (Component í´ë˜ìŠ¤ ê¸°ë°˜)
- **ì•„í‚¤í…ì²˜**: SPA (Single Page Application)
- **ìƒíƒœê´€ë¦¬**: Store íŒ¨í„´
- **ë¼ìš°íŒ…**: Hash-based Router
- **ìŠ¤íƒ€ì¼**: CSS Variables + ëª¨ë“ˆí™”
- **ë¹Œë“œ**: Webpack
- **PWA**: Service Worker + Manifest

**ì£¼ì˜**: Web Components (HTMLElement ìƒì†)ê°€ ì•„ë‹Œ ë‹¨ìˆœ Component í´ë˜ìŠ¤ íŒ¨í„´ ì‚¬ìš©

### ë°°í¬
- **í”Œë«í¼**: Railway (ë°±ì—”ë“œ + í”„ë¡ íŠ¸ì—”ë“œ)
- **ì•±ìŠ¤í† ì–´**: Google Play Store (Android)

## í•µì‹¬ ê°œë°œ ì›ì¹™

### 0. ì ì§„ì  ê°œë°œ (Incremental Development) â­
- **ì‘ì€ ë‹¨ìœ„ë¡œ ê°œë°œ**: í•œ ë²ˆì— í•˜ë‚˜ì˜ ì‘ì€ ê¸°ëŠ¥ë§Œ êµ¬í˜„
- **í…ŒìŠ¤íŠ¸ ìš°ì„ **: ëª¨ë“  ìƒˆ ê¸°ëŠ¥ì€ `test-lab/` í´ë”ì—ì„œ ë¨¼ì € êµ¬í˜„
- **ê²€ì¦ í›„ í†µí•©**: í…ŒìŠ¤íŠ¸ê°€ ì™„ë£Œëœ ê¸°ëŠ¥ë§Œ ë©”ì¸ ì½”ë“œë² ì´ìŠ¤ì— í†µí•©
- **ë¬¸ì œ ê²©ë¦¬**: ê° ê¸°ëŠ¥ì„ ë…ë¦½ì ìœ¼ë¡œ ê°œë°œí•˜ì—¬ ë¬¸ì œ ë°œìƒ ë²”ìœ„ ìµœì†Œí™”

### 1. YouTube ì˜ìƒ ì¬ìƒ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸ (í•„ìˆ˜!) ğŸ¬
```javascript
// â­ 2ë‹¨ê³„ í•„í„°ë§ ì›Œí¬í”Œë¡œìš° í•„ìˆ˜ ì ìš©
async function searchPlayableShorts(keyword) {
  // 1ë‹¨ê³„: search.listë¡œ í›„ë³´ ê²€ìƒ‰
  const searchResults = await youtube.search.list({
    q: keyword,
    type: 'video',
    videoDuration: 'short', // 4ë¶„ ë¯¸ë§Œ
    maxResults: 50
  });
  
  // 2ë‹¨ê³„: videos.listë¡œ ì¬ìƒ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸ (í•„ìˆ˜!)
  const videoIds = searchResults.items.map(item => item.id.videoId);
  const detailedVideos = await youtube.videos.list({
    part: 'snippet,contentDetails,status,statistics',
    id: videoIds.join(',')
  });
  
  // 3ë‹¨ê³„: ì¬ìƒ ê°€ëŠ¥í•œ ì˜ìƒë§Œ í•„í„°ë§
  return detailedVideos.items.filter(video => {
    return video.status.embeddable && // ì„ë² ë“œ ê°€ëŠ¥
           video.status.privacyStatus === 'public' && // ê³µê°œ ì˜ìƒ
           !isRegionBlocked(video, 'KR') && // í•œêµ­ ì°¨ë‹¨ ì•„ë‹˜
           getDuration(video) <= 60; // 60ì´ˆ ì´í•˜
  });
}
```

### 2. API í• ë‹¹ëŸ‰ ìµœì í™” (ì¼ì¼ 10,000 units)
```javascript
// ìµœì‹  í• ë‹¹ëŸ‰ ë¶„ë°° (4ê°œ ì¹´í…Œê³ ë¦¬)
const quotaDistribution = {
  popular_keywords: 2500,    // 25% - ì¸ê¸° í‚¤ì›Œë“œ ìºì‹±
  realtime_trends: 2000,     // 20% - ì‹¤ì‹œê°„ íŠ¸ë Œë“œ
  premium_users: 3500,       // 35% - í”„ë¦¬ë¯¸ì—„ ìœ ì €
  emergency_reserve: 2000    // 20% - ì˜ˆë¹„ í• ë‹¹ëŸ‰
};

// API ë¹„ìš© ê³„ì‚°
const apiCosts = {
  searchList: 100,                    // search.list
  videosList: 1 + (parts.length * 2)  // videos.list
  // ì˜ˆ: part='snippet,contentDetails,status' = 7 units
};
```

### 3. MCP í™œìš©
```javascript
// MCP ì„œë²„ ì—°ë™
const brightDataMCP = new MCPClient('bright-data');
const supabaseMCP = new MCPClient('supabase');

// ìì—°ì–´ ëŒ€í™”í˜• ê²€ìƒ‰ (í•µì‹¬ ê¸°ëŠ¥)
async function chatSearch(userMessage) {
  const context = await mcp.analyzeContext(userMessage);
  const keywords = await mcp.extractKeywords(context);
  return await searchWithKeywords(keywords);
}
```

### 4. ìºì‹± ì „ëµ
- ì¬ìƒ ê°€ëŠ¥ ì˜ìƒ: 7ì¼ ìºì‹±
- ì¬ìƒ ë¶ˆê°€ ì˜ìƒ: 1ì¼ ìºì‹± (ì¬í™•ì¸ ë°©ì§€)
- ê²€ìƒ‰ ê²°ê³¼: 4ì‹œê°„ ìºì‹±
- ìºì‹œ ì ì¤‘ë¥  ëª©í‘œ: 85% ì´ìƒ

### 5. í”„ë¡ íŠ¸ì—”ë“œ ì•„í‚¤í…ì²˜
```javascript
// Component ê¸°ë°˜ êµ¬ì¡° (Web Components ì•„ë‹˜!)
class VideoCard extends Component {
  constructor(props) {
    super(props);
    this.state = { liked: false };
  }
  
  render() {
    return `<div class="video-card">...</div>`;
  }
}

// Store íŒ¨í„´ìœ¼ë¡œ ìƒíƒœ ê´€ë¦¬
class VideoStore extends Store {
  constructor() {
    super();
    this.videos = [];
  }
}

// Hash ê¸°ë°˜ ë¼ìš°íŒ…
const router = new Router({
  '/': HomePage,
  '/search': SearchPage,
  '/trending': TrendingPage
});
```

## ê°œë°œ ì›Œí¬í”Œë¡œìš°

### ìƒˆ ê¸°ëŠ¥ ê°œë°œ ì‹œ
1. `test-lab/feature-name/` í´ë” ìƒì„±
2. ìµœì†Œ ê¸°ëŠ¥ êµ¬í˜„ ë° ë…ë¦½ í…ŒìŠ¤íŠ¸
3. ë™ì‘ í™•ì¸ í›„ ë©”ì¸ ì½”ë“œì— í†µí•©
4. ë¬¸ì„œ ì—…ë°ì´íŠ¸ ë° ì»¤ë°‹

### ì½”ë“œ ë¦¬ë·° ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] 2ë‹¨ê³„ í•„í„°ë§ ì ìš© (search â†’ videos)
- [ ] ì¬ìƒ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸
- [ ] API í• ë‹¹ëŸ‰ ê³ ë ¤
- [ ] ìºì‹± ì „ëµ ì ìš©
- [ ] ì—ëŸ¬ ì²˜ë¦¬ êµ¬í˜„

## ì£¼ìš” ì°¸ì¡° ë¬¸ì„œ
- [Vanilla SPA ì•„í‚¤í…ì²˜](mdc:docs/development/vanilla-spa-architecture.md)
- [YouTube API íŒŒë¼ë¯¸í„°](mdc:docs/development/youtube-api-parameters.md)
- [ì¬ìƒ ê°€ëŠ¥ ì˜ìƒ í•„í„°ë§](mdc:docs/development/youtube-shorts-filtering-guide.md)
- [API ìµœì í™” ì „ëµ](mdc:docs/basic/7.Youtube API í™œìš© ì „ëµ.md)
- [MCP êµ¬í˜„ ê°€ì´ë“œ](mdc:docs/basic/3.MCP êµ¬í˜„.md)

## ëª¨ë‹ˆí„°ë§ ì§€í‘œ
- í•„í„°ë§ ì„±ê³µë¥ : > 70%
- ìºì‹œ íˆíŠ¸ìœ¨: > 85%
- API ì‚¬ìš©ë¥ : < 80%
- ì‘ë‹µ ì‹œê°„: < 0.5ì´ˆ

