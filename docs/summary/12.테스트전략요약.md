# 12. 테스트 전략 요약

> 상세 문서: [docs/basic/12.테스트 전략.md](../basic/12.테스트%20전략.md)

## 테스트 구성
- **단위 테스트**: Jest, 85% 커버리지
- **통합 테스트**: Supertest
- **E2E 테스트**: Playwright
- **성능 테스트**: Autocannon

## 테스트 우선순위
1. **Critical (90%+)**: 인증, YouTube API, MCP
2. **High (85%+)**: 캐싱, API 할당량, 개인화
3. **Medium (80%+)**: 트렌드 분석, 필터링

## 주요 테스트 케이스
```javascript
// API 할당량 테스트
test('할당량 초과 시 캐시 폴백', async () => {
  mockQuotaExceeded();
  const result = await searchService.search('test');
  expect(result.source).toBe('cache');
});

// 캐시 히트율 테스트
test('캐시 적중률 85% 이상', async () => {
  const hitRate = await cacheService.getHitRate();
  expect(hitRate).toBeGreaterThan(85);
});
```

## Mock 전략
- YouTube API 응답 Mock
- Claude API Mock
- Supabase 클라이언트 Mock

## CI 통합
```yaml
# 테스트 실행
npm test -- --coverage
# 커버리지 체크
npm run test:coverage
```

## 테스트 실행
- 개발 중: Watch 모드
- PR: 자동 테스트
- 배포 전: 전체 테스트 