# 2. 기술 스택 및 아키텍처 요약

> 상세 문서: [docs/basic/2.기술 스택 및 아키텍쳐.md](../basic/2.기술%20스택%20및%20아키텍쳐.md)

## 시스템 아키텍처
```
Client (Web/Mobile) → API Gateway (Railway) → Service Layer → Data Layer
```

## 핵심 기술 스택
- **백엔드**: Node.js, Express
- **프론트엔드**: Vanilla JS (SPA), Component 기반 아키텍처
- **데이터베이스**: Supabase (PostgreSQL + Auth)
- **캐싱**: 메모리 캐시 (Redis 대체)
- **배포**: Railway
- **AI/ML**: Claude API, Bright Data MCP, Supabase MCP

## API 할당량 관리 (중요!)
```javascript
// YouTube API 일일 할당량: 10,000 units
distribution: {
  popular_keywords: 3000,    // 30% - 30일 주기
  trending_keywords: 1000,   // 10% - Bright Data 실시간
  user_patterns: 1000,       // 10% - 사용자 패턴
  hourly_trends: 1000,       // 10% - 시간대별
  premium_realtime: 2500,    // 25% - 프리미엄
  emergency_buffer: 1500     // 15% - 긴급용
}
```

## 지능형 쿼리 빌더 전략
1. 사용자 쿼리 → Bright Data 웹 검색
2. 컨텍스트 수집 (채널, 인물, 이벤트)
3. 채널 ID 추출 → videos.list (3 units)
4. 일반 검색은 search.list (100 units) 최소화

## 캐싱 전략
- **인기 키워드**: 30일 캐싱
- **트렌드**: 4시간 캐싱
- **사용자 패턴**: 24시간 캐싱
- **목표 캐시 적중률**: 85%+ 