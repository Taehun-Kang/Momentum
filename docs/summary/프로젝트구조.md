# 프로젝트 구조 가이드

## 📁 추천 모노레포 구조

```
youtube-shorts-curator/
├── backend/                    # 백엔드 서버
│   ├── src/
│   │   ├── api/               # API 라우트
│   │   ├── services/          # 비즈니스 로직
│   │   ├── mcp/               # MCP 서버 구현
│   │   ├── middleware/        # Express 미들웨어
│   │   ├── utils/             # 유틸리티
│   │   └── app.js             # Express 앱
│   ├── tests/                 # 백엔드 테스트
│   ├── package.json
│   └── .env.example
│
├── frontend/                   # 프론트엔드
│   ├── src/
│   │   ├── js/                # JavaScript
│   │   ├── css/               # 스타일시트
│   │   ├── components/        # 재사용 가능한 컴포넌트
│   │   └── assets/            # 이미지, 폰트
│   ├── public/
│   │   ├── index.html
│   │   └── manifest.json
│   ├── package.json
│   └── webpack.config.js
│
├── shared/                     # 공통 코드
│   ├── types/                 # TypeScript 타입 (선택)
│   ├── constants.js           # 공통 상수
│   └── validators.js          # 공통 검증 로직
│
├── scripts/                    # 유틸리티 스크립트
│   ├── setup.js               # 초기 설정
│   ├── cache-keywords.js      # 키워드 캐싱
│   └── deploy.js              # 배포 스크립트
│
├── docs/                       # 문서
│   ├── basic/                 # 상세 문서
│   └── summary/               # 요약 문서
│
├── .github/                    # GitHub Actions
│   └── workflows/
│       └── deploy.yml
│
├── railway.json               # Railway 설정
├── package.json               # 루트 package.json
├── .gitignore
├── .env.example
└── README.md
```

## 🛠 루트 package.json 설정

```json
{
  "name": "youtube-shorts-curator",
  "private": true,
  "workspaces": [
    "backend",
    "frontend"
  ],
  "scripts": {
    "dev": "concurrently \"npm run dev:backend\" \"npm run dev:frontend\"",
    "dev:backend": "cd backend && npm run dev",
    "dev:frontend": "cd frontend && npm run dev",
    "build": "npm run build:frontend && npm run build:backend",
    "build:backend": "cd backend && npm run build",
    "build:frontend": "cd frontend && npm run build",
    "test": "npm run test:backend && npm run test:frontend",
    "test:backend": "cd backend && npm test",
    "test:frontend": "cd frontend && npm test",
    "setup": "npm install && node scripts/setup.js"
  },
  "devDependencies": {
    "concurrently": "^7.6.0"
  }
}
```

## 🚀 Railway 멀티서비스 설정

```json
// railway.json
{
  "services": {
    "backend": {
      "root": "/backend",
      "build": "npm install && npm run build",
      "start": "npm start"
    },
    "frontend": {
      "root": "/frontend",
      "build": "npm install && npm run build",
      "start": "npx serve -s dist"
    }
  }
}
```

## 💡 개발 워크플로우

### 1. 초기 설정
```bash
# 프로젝트 클론
git clone <repo>
cd youtube-shorts-curator

# 의존성 설치 (workspaces 자동 처리)
npm install

# 환경변수 설정
cp .env.example .env
cp backend/.env.example backend/.env
cp frontend/.env.example frontend/.env

# 초기 설정 스크립트
npm run setup
```

### 2. 개발 시작
```bash
# 프론트/백 동시 실행
npm run dev

# 개별 실행
npm run dev:backend
npm run dev:frontend
```

### 3. 테스트
```bash
# 전체 테스트
npm test

# 개별 테스트
npm run test:backend
npm run test:frontend
```

## 🔧 VS Code 설정

```json
// .vscode/settings.json
{
  "eslint.workingDirectories": [
    "./backend",
    "./frontend"
  ],
  "search.exclude": {
    "**/node_modules": true,
    "**/dist": true,
    "**/coverage": true
  },
  "files.exclude": {
    "**/.git": true,
    "**/.DS_Store": true
  }
}
```

## ✅ 장점

1. **통합 관리**: 한 저장소에서 전체 프로젝트 관리
2. **쉬운 배포**: Railway가 모노레포 지원
3. **코드 공유**: shared 폴더로 중복 제거
4. **일관성**: 한 번에 전체 린트/포맷
5. **빠른 개발**: 컨텍스트 스위칭 최소화

## ⚠️ 주의사항

1. **.gitignore 설정**: 각 폴더별로 적절히 설정
2. **환경변수**: 백엔드/프론트엔드 별도 관리
3. **빌드 순서**: 프론트엔드 먼저 빌드 (정적 파일)
4. **포트 설정**: 개발 시 충돌 방지 (백: 3001, 프: 3000) 