# 9. 캐싱 및 성능 최적화 요약

> 상세 문서: [docs/basic/9.캐싱 및 성능 최적화.md](../basic/9.캐싱%20및%20성능%20최적화.md)

## 다계층 캐싱 구조
1. **메모리 캐시**: 빠른 응답 (Redis 대체)
2. **DB 캐시**: Supabase 테이블
3. **CDN**: 정적 자원 (Cloudflare Workers)

## 캐싱 전략
```javascript
// 캐시 TTL 설정
const TTL = {
  popular: 30 * 24 * 60 * 60,  // 30일 - 인기 키워드
  trending: 4 * 60 * 60,       // 4시간 - 트렌드
  user: 24 * 60 * 60,          // 24시간 - 사용자 패턴
  default: 60 * 60             // 1시간 - 기본
};
```

## 사전 큐레이션
1. **인기 키워드 식별**: 검색 로그 분석
2. **자동 캐싱**: 상위 100개 키워드
3. **배치 처리**: 새벽 시간대 실행

## 캐시 키 전략
```javascript
// 네임스페이스 기반 키 생성
ytshorts:videos:{keyword}:page{n}
ytshorts:trends:{region}:{category}
ytshorts:user_pref:{userId}
```

## 성능 목표
- **캐시 적중률**: 85%+
- **응답 시간**: <500ms
- **API 절약**: 70%+ (캐시 활용)

## 모니터링
- 일일 캐시 히트율 추적
- API 사용량 대시보드
- 느린 쿼리 감지 