<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ğŸ§¹ localStorage ì •ë¦¬ ë„êµ¬</title>
    <style>
      body {
        font-family: "Apple SD Gothic Neo", sans-serif;
        max-width: 500px;
        margin: 50px auto;
        padding: 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-radius: 15px;
      }

      .button {
        background: rgba(255, 255, 255, 0.2);
        border: 1px solid rgba(255, 255, 255, 0.3);
        color: white;
        padding: 15px 30px;
        border-radius: 8px;
        cursor: pointer;
        margin: 10px;
        font-size: 16px;
        transition: all 0.3s ease;
      }

      .button:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: translateY(-2px);
      }

      .info {
        background: rgba(0, 0, 0, 0.2);
        padding: 15px;
        border-radius: 8px;
        margin: 15px 0;
      }

      #status {
        margin-top: 20px;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <h1>ğŸ§¹ localStorage ì •ë¦¬ ë„êµ¬</h1>

    <div class="info">
      <h3>ğŸ“‹ í˜„ì¬ ì €ì¥ëœ ë°ì´í„°:</h3>
      <div id="current-data"></div>
    </div>

    <button class="button" onclick="clearStorage()">
      ğŸ—‘ï¸ localStorage ì „ì²´ ì •ë¦¬
    </button>

    <button class="button" onclick="clearAuthOnly()">
      ğŸ” ì¸ì¦ ë°ì´í„°ë§Œ ì •ë¦¬
    </button>

    <button class="button" onclick="testLogin()">
      ğŸ”§ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
    </button>

    <div id="status"></div>

    <script>
      // í˜„ì¬ ì €ì¥ëœ ë°ì´í„° í‘œì‹œ
      function showCurrentData() {
        const data = {};
        for (let i = 0; i < localStorage.length; i++) {
          const key = localStorage.key(i);
          data[key] = localStorage.getItem(key);
        }

        const container = document.getElementById("current-data");

        if (Object.keys(data).length === 0) {
          container.innerHTML =
            '<p style="color: #90EE90;">âœ… localStorageê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤</p>';
        } else {
          container.innerHTML = Object.entries(data)
            .map(([key, value]) => `<p><strong>${key}:</strong> ${value}</p>`)
            .join("");
        }
      }

      // ì „ì²´ localStorage ì •ë¦¬
      function clearStorage() {
        localStorage.clear();
        document.getElementById("status").innerHTML =
          '<span style="color: #90EE90;">âœ… localStorage ì „ì²´ ì •ë¦¬ ì™„ë£Œ!</span>';
        showCurrentData();
      }

      // ì¸ì¦ ë°ì´í„°ë§Œ ì •ë¦¬
      function clearAuthOnly() {
        const authKeys = ["authToken", "isLoggedIn", "userEmail", "userName"];

        authKeys.forEach((key) => {
          localStorage.removeItem(key);
        });

        document.getElementById("status").innerHTML =
          '<span style="color: #90EE90;">âœ… ì¸ì¦ ë°ì´í„°ë§Œ ì •ë¦¬ ì™„ë£Œ!</span>';
        showCurrentData();
      }

      // ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
      function testLogin() {
        window.open("http://localhost:3000/#/login", "_blank");
      }

      // í˜ì´ì§€ ë¡œë“œì‹œ í˜„ì¬ ë°ì´í„° í‘œì‹œ
      window.onload = showCurrentData;

      // 2ì´ˆë§ˆë‹¤ ë°ì´í„° ê°±ì‹ 
      setInterval(showCurrentData, 2000);
    </script>
  </body>
</html>
